# Railway Environment Variables

ะกะฟะธัะพะบ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั ะดะปั ะฝะฐัััะพะนะบะธ FreshTrack ะฝะฐ Railway.

## ๐ด ะะฑัะทะฐัะตะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต

ะญัะธ ะฟะตัะตะผะตะฝะฝัะต **ะพะฑัะทะฐัะตะปัะฝั** ะดะปั ะทะฐะฟััะบะฐ ะฟัะธะปะพะถะตะฝะธั:

### ะะฐะทะพะฒะฐั ะบะพะฝัะธะณััะฐัะธั
```bash
# JWT Secret (ะผะธะฝะธะผัะผ 32 ัะธะผะฒะพะปะฐ!)
JWT_SECRET=your-secret-key-minimum-32-characters-long-change-in-production

# URL ะฟัะธะปะพะถะตะฝะธั (ะดะปั ัััะปะพะบ ะฒ ะฟะธััะผะฐั ะธ CORS)
APP_URL=https://your-domain.com

# ะะฐะทะฐ ะดะฐะฝะฝัั (Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ัััะฐะฝะฐะฒะปะธะฒะฐะตั, ะตัะปะธ ะฟะพะดะบะปััะตะฝะฐ PostgreSQL)
# ะัะปะธ Railway ะฝะต ัััะฐะฝะพะฒะธะป ะฐะฒัะพะผะฐัะธัะตัะบะธ, ะดะพะฑะฐะฒััะต ะฒัััะฝัั:
DATABASE_URL=postgresql://user:password@host:port/database
```

### Email ะบะพะฝัะธะณััะฐัะธั (Resend)
```bash
# Email ะฟัะพะฒะฐะนะดะตั
EMAIL_PROVIDER=resend

# Resend API Key (ะพะฑัะทะฐัะตะปะตะฝ, ะตัะปะธ EMAIL_PROVIDER=resend)
RESEND_API_KEY=re_your_resend_api_key_here

# Email ะพัะฟัะฐะฒะธัะตะปั
EMAIL_FROM=FreshTrack <onboarding@resend.dev>
```

## ๐ก ะะตะบะพะผะตะฝะดัะตะผัะต ะฟะตัะตะผะตะฝะฝัะต

ะญัะธ ะฟะตัะตะผะตะฝะฝัะต **ัะตะบะพะผะตะฝะดััััั** ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ ะธ ะฟะพะปะฝะพะน ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ:

### CORS ะธ ะฑะตะทะพะฟะฐัะฝะพััั
```bash
# ะะฐะทัะตัะตะฝะฝัะต ะดะพะผะตะฝั ะดะปั CORS (ัะตัะตะท ะทะฐะฟัััั)
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
```

### Webhooks (ะฑะตะทะพะฟะฐัะฝะพััั)
```bash
# Resend Webhook Secret (ะดะปั ะฒะตัะธัะธะบะฐัะธะธ webhooks ะพั Resend)
RESEND_WEBHOOK_SECRET=whsec_your_webhook_secret

# Telegram Webhook Secret (ะตัะปะธ ะธัะฟะพะปัะทัะตัะต Telegram)
TELEGRAM_WEBHOOK_SECRET=tgwhsec_your_telegram_webhook_secret
```

### Telegram Bot (ะพะฟัะธะพะฝะฐะปัะฝะพ)
```bash
# Telegram Bot Token (ะตัะปะธ ะธัะฟะพะปัะทัะตัะต Telegram ัะฒะตะดะพะผะปะตะฝะธั)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# ะัะฟะพะปัะทะพะฒะฐัั polling ะฒะผะตััะพ webhooks (ะดะปั ัะฐะทัะฐะฑะพัะบะธ)
TELEGRAM_POLLING=false
```

### ะะพะฝะธัะพัะธะฝะณ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต
```bash
# Sentry DSN ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะพัะธะฑะพะบ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
```

## ๐ข ะะฟัะธะพะฝะฐะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต

ะญัะธ ะฟะตัะตะผะตะฝะฝัะต ะธะผะตัั ะทะฝะฐัะตะฝะธั ะฟะพ ัะผะพะปัะฐะฝะธั, ะฝะพ ะผะพะณัั ะฑััั ะฝะฐัััะพะตะฝั:

### ะะบััะถะตะฝะธะต
```bash
# ะะบััะถะตะฝะธะต (development/production)
NODE_ENV=production

# ะะพัั (Railway ะพะฑััะฝะพ ัััะฐะฝะฐะฒะปะธะฒะฐะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
PORT=3001
```

### JWT
```bash
# ะัะตะผั ะถะธะทะฝะธ JWT ัะพะบะตะฝะฐ
JWT_EXPIRES_IN=7d
```

### MFA (Multi-Factor Authentication)
```bash
# ะะฐะทะฒะฐะฝะธะต ะฟัะธะปะพะถะตะฝะธั ะดะปั MFA
MFA_ISSUER=FreshTrack

# ะะบะฝะพ ะดะพะฟััะบะฐ ะดะปั TOTP (ะฒ ัะฐะณะฐั)
MFA_TOTP_WINDOW=1
```

### ะะธะผะธัั ัะบัะฟะพััะฐ
```bash
# ะะฐะบัะธะผะฐะปัะฝะพะต ะบะพะปะธัะตััะฒะพ ัััะพะบ ะฒ ัะบัะฟะพััะต
MAX_EXPORT_ROWS=10000

# ะะธะผะธั ะทะฐะฟัะพัะพะฒ ะฝะฐ ัะบัะฟะพัั
EXPORT_RATE_LIMIT_MAX=10

# ะะบะฝะพ ะฒัะตะผะตะฝะธ ะดะปั ะปะธะผะธัะฐ ัะบัะฟะพััะฐ (ะฒ ัะตะบัะฝะดะฐั)
EXPORT_RATE_LIMIT_WINDOW=3600
```

### IP Allowlist
```bash
# ะะฐะทัะตัะตะฝะฝัะต IP ะฐะดัะตัะฐ (ัะตัะตะท ะทะฐะฟัััั, ะพััะฐะฒััะต ะฟััััะผ ะดะปั ะพัะบะปััะตะฝะธั)
ALLOWED_IPS=
# ะัะธะผะตั: ALLOWED_IPS=1.2.3.4,5.6.7.8
```

### GDPR ะธ ััะฐะฝะตะฝะธะต ะดะฐะฝะฝัั
```bash
# ะะพะดั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั
DATA_RETENTION_YEARS=7

# Email ะดะปั GDPR ะทะฐะฟัะพัะพะฒ
GDPR_CONTACT_EMAIL=privacy@your-domain.com
```

### Audit Trail
```bash
# ะะฝัะตัะฒะฐะป ะฟัะพะฒะตัะบะธ ัะตะปะพััะฝะพััะธ audit trail (ะฒ ะผะธะปะปะธัะตะบัะฝะดะฐั)
# 21600000 = 6 ัะฐัะพะฒ
AUDIT_VERIFICATION_INTERVAL=21600000
```

## ๐ ะัะธะผะตั ะฟะพะปะฝะพะน ะบะพะฝัะธะณััะฐัะธะธ ะดะปั Railway

```bash
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะะฏะะะขะะะฌะะซะ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
JWT_SECRET=your-very-long-secret-key-minimum-32-characters-for-security
APP_URL=https://freshtrack.systems
EMAIL_PROVIDER=resend
RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=FreshTrack <onboarding@resend.dev>

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะะะะะะะะฃะะะซะ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
CORS_ORIGINS=https://freshtrack.systems,https://www.freshtrack.systems
ALLOWED_ORIGINS=https://freshtrack.systems,https://www.freshtrack.systems
RESEND_WEBHOOK_SECRET=whsec_your_webhook_secret
NODE_ENV=production

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะะฆะะะะะะฌะะซะ (ะตัะปะธ ะฝัะถะฝั)
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_WEBHOOK_SECRET=tgwhsec_your_telegram_webhook_secret
TELEGRAM_POLLING=false
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
MFA_ISSUER=FreshTrack
GDPR_CONTACT_EMAIL=privacy@freshtrack.systems
```

## โ๏ธ ะะฐะถะฝัะต ะทะฐะผะตัะฐะฝะธั

1. **DATABASE_URL**: Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ัััะฐะฝะฐะฒะปะธะฒะฐะตั ััั ะฟะตัะตะผะตะฝะฝัั, ะตัะปะธ ะฒั ะฟะพะดะบะปััะธะปะธ PostgreSQL ะฑะฐะทั ะดะฐะฝะฝัั. ะะต ะฝัะถะฝะพ ัััะฐะฝะฐะฒะปะธะฒะฐัั ะฒัััะฝัั, ะตัะปะธ ะฑะฐะทะฐ ะฟะพะดะบะปััะตะฝะฐ.

2. **JWT_SECRET**: ะะพะปะถะตะฝ ะฑััั ะผะธะฝะธะผัะผ 32 ัะธะผะฒะพะปะฐ! ะัะฟะพะปัะทัะนัะต ะดะปะธะฝะฝัะน ัะปััะฐะนะฝัะน ะบะปัั ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ.

3. **APP_URL**: ะะพะปะถะตะฝ ะฝะฐัะธะฝะฐัััั ั `http://` ะธะปะธ `https://`. ะัะฟะพะปัะทัะตััั ะดะปั ะณะตะฝะตัะฐัะธะธ ัััะปะพะบ ะฒ ะฟะธััะผะฐั.

4. **RESEND_API_KEY**: ะะฑัะทะฐัะตะปะตะฝ, ะตัะปะธ `EMAIL_PROVIDER=resend`. ะะตะท ะฝะตะณะพ ะฟัะธะปะพะถะตะฝะธะต ะฝะต ะทะฐะฟัััะธััั.

5. **RESEND_WEBHOOK_SECRET**: ะะตะบะพะผะตะฝะดัะตััั ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ webhooks. ะะตะท ะฝะตะณะพ webhooks ะฑัะดัั ะฝะตะฑะตะทะพะฟะฐัะฝัะผะธ.

6. **CORS_ORIGINS**: ะฃะบะฐะถะธัะต ะฒัะต ะดะพะผะตะฝั, ั ะบะพัะพััั ะฑัะดะตั ะดะพัััะฟ ะบ API (ะฒะบะปััะฐั www ะฟะพะดะดะพะผะตะฝ).

## ๐ง ะะฐะบ ะดะพะฑะฐะฒะธัั ะฟะตัะตะผะตะฝะฝัะต ะฒ Railway

1. ะัะบัะพะนัะต ะฒะฐั ะฟัะพะตะบั ะฒ Railway
2. ะะตัะตะนะดะธัะต ะฒ **Variables** (ะะตัะตะผะตะฝะฝัะต)
3. ะะฐะถะผะธัะต **+ New Variable**
4. ะะพะฑะฐะฒััะต ะบะฐะถะดัั ะฟะตัะตะผะตะฝะฝัั ะฟะพ ะพัะดะตะปัะฝะพััะธ
5. ะะพัะปะต ะดะพะฑะฐะฒะปะตะฝะธั Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตะทะฐะฟัััะธั ะฟัะธะปะพะถะตะฝะธะต

## ๐จ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะธะปะพะถะตะฝะธะต ะฝะต ะทะฐะฟััะบะฐะตััั ั ะพัะธะฑะบะพะน "Missing required environment variables"
- ะัะพะฒะตัััะต, ััะพ ะฒัะต ะพะฑัะทะฐัะตะปัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ัััะฐะฝะพะฒะปะตะฝั
- ะฃะฑะตะดะธัะตัั, ััะพ `JWT_SECRET` ะผะธะฝะธะผัะผ 32 ัะธะผะฒะพะปะฐ
- ะัะพะฒะตัััะต, ััะพ `APP_URL` ะฝะฐัะธะฝะฐะตััั ั `http://` ะธะปะธ `https://`

### Email ะฝะต ัะฐะฑะพัะฐะตั
- ะัะพะฒะตัััะต `RESEND_API_KEY` - ะพะฝ ะดะพะปะถะตะฝ ะฑััั ะฒะฐะปะธะดะฝัะผ ะบะปััะพะผ ะพั Resend
- ะฃะฑะตะดะธัะตัั, ััะพ `EMAIL_FROM` ะธัะฟะพะปัะทัะตั ะดะพะผะตะฝ, ะฟะพะดัะฒะตัะถะดะตะฝะฝัะน ะฒ Resend

### CORS ะพัะธะฑะบะธ
- ะัะพะฒะตัััะต `CORS_ORIGINS` ะธ `ALLOWED_ORIGINS`
- ะฃะฑะตะดะธัะตัั, ััะพ ะดะพะผะตะฝ ััะพะฝัะตะฝะดะฐ ัะบะฐะทะฐะฝ ะฒ ััะธั ะฟะตัะตะผะตะฝะฝัั
- ะะต ะธัะฟะพะปัะทัะนัะต `localhost` ะฒ production
